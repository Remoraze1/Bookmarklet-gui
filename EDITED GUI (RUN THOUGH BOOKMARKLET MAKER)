javascript:(function() {
  // Define bookmarklet options
  const options = [
    {
      title: "Editable Website",
      url: "javascript:document.body.contentEditable = true; void 0;"
    },
    {
      title: "Bad Dark Mode",
      url: "javascript: if (typeof all === 'undefined') {let all = [];}all = document.getElementsByTagName('*');for (let i = 0; i < all.length; i++) { if(typeof all[i].style !== 'undefined'){all[i].style.fontFamily = 'Georgia';}}document.getElementsByTagName('html')[0].style.filter = 'invert()';if (typeof elems === 'undefined') {let elems = [];}elems = document.querySelectorAll(' a, img, video');for (let j = 0 ; j < elems.length; j++) {if((elems[j].nodeName == 'A' && (elems[j].style.background != '' || elems[j].style.backgroundImage != '')) || elems[j].nodeName != 'A'){elems[j].style.filter = 'invert()';}}void 0;"
    },
    {
      title: "Auto Clicker",
      url: "javascript:(function(x,y){if(!window.click){window.click=!0,document.body.style.cursor='crosshair';var cps=prompt('Autoclicker CPS: (Under 200 recommended)');if(!cps||isNaN(cps)?(alert('You entered something wrong. Try running the script again.'),end()):alert('Autoclicker activated at '+cps+' CPS! Do [ctrl e] to stop.'),addEventListener('mousemove',e=>{x=e.clientX,y=e.clientY}),addEventListener('keydown',e=>{'e'===e.key&&e.ctrlKey&&(alert('Autoclicker deactivated! Click the bookmark again to reactivate!'),end())}),window.click)var int=setInterval(function(){var e=document.elementFromPoint(x,y);e&&e.click()},1e3/cps);function end(){clearInterval(int),window.click=!1,document.body.style.cursor='default'}}})()"
    },
    {
      title: "No YT Adds",
      url: "javascript: if(document.getElementsByClassName('video-ads')[0].innerHTML !==''){ var banner = false; for(var i = 0; i < document.getElementsByClassName('ytp-ad-overlay-close-button').length; i++){ document.getElementsByClassName('ytp-ad-overlay-close-button')[i].click(); banner = true;} if(banner === false){ document.getElementsByClassName('html5-main-video')[0].currentTime = document.getElementsByClassName('html5-main-video')[0].duration; document.getElementsByClassName('ytp-ad-skip-button')[0].click();} }void 0;"
    },
    {
      title: "AdBlock",
      url: "javascript:(function(){const exceptOrigins=['https://disqus.com',document.origin];function remIF(e){try{var orgn=new URL(e.src||'http://unknown-src').origin;if(!exceptOrigins.includes(orgn)){e.parentElement.removeChild(e);console.log('REMOVE IFRAME',orgn);}}catch(err){console.log('REMOVE ERROR',err);}}function remIFs(){for(var e of document.getElementsByTagName('iframe')){remIF(e);}}window.setInterval(remIFs,500);})();"
    },
    {
      title: "Video Speed",
      url: "javascript:document.querySelector('video').playbackRate=parseFloat(prompt('Video Playback Speed: (Max: 15)','2.75'))"
    },
    {
      title: "Notepad",
      url: "data:text/html;charset=utf-8,%0A<html>%0A<head> <title>My text editor</title>%0A<style>%0Abody{height: 80vh;background:%232E2E2E;padding: 1.5rem; margin: 0;}%0Adiv:focus{ outline: none; }%0A.editor { background: %231E1E1E; height: 90%; width: 90%; border-radius: 10px; padding: 1rem; overflow: scroll; max-height:80%; font-family: Courier New; font-weight:bold; color:%23FFFFFF; font-size:1rem;  line-height:1.4;  max-width:90%;  height: 90%;  max-height:90%;  margin:0 auto;  }  %0A.editor::before { counter-reset: listing; }%0A.editor div { counter-increment: listing; }%0A.editor div::before { color: %23555; white-space: pre-wrap;  content: counter(listing) '. ';  display: inline-block;  width: 3em;  padding-left: auto;  margin-left: auto;  text-align: right; }  %0A.buttons {  padding-left: 5%;  padding-right: 5%;  padding-top: 0.5rem;  padding-bottom: 0.5rem;  }  %0Abutton { background: %23555;  color: %23EEE;  font-family: Courier New;  font-weight:bold;  padding: 8px 16px;  border-radius: 5px;  text-align: center;  font-size: 16px;  margin: 4px 2px;  opacity: 0.6;  transition: 0.3s;  display: inline-block;  text-decoration: none;  cursor: pointer;  }  %0Abutton:hover {opacity: 1}%0A::-webkit-scrollbar { height: 0px;  width: 20px;  background-color: %23222; }%0A::-webkit-scrollbar-thumb { background-color: %235E5E5E;  border-radius: 20px;  border: 6px solid transparent;  background-clip: content-box; }%0A</style>%0A</head>%0A<body>%0A<div class='editor' spellcheck='false'> <div contenteditable='true'> </div> </div>%0A<div class='buttons'> <button onclick='downloadContent(1)'>Save</button> <button onclick='changeFontSize(2)'>Text Size +</button> <button onclick='changeFontSize(-2)'>Text Size -</button> </div>%0A<script>%0Afunction changeFontSize(val){ let txt = document.getElementsByClassName('editor')[0]; let style = window.getComputedStyle(txt).getPropertyValue('font-size'); let currentSize = parseFloat(style); txt.style.fontSize = (currentSize + val) + 'px'; }%0Afunction downloadContent(tmp){ let a = document.body.appendChild(document.createElement('a')); let today = new Date(); let date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate() + '-' + today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds(); a.download = 'export' + date.toString() + '.txt'; let textToSave = document.getElementsByClassName('editor')[0]; a.href = 'data:text/plain;charset=utf-8,' + textToSave.innerText; a.click(); }%0A</script>%0A</body>%0A</html>"
    }
  ];

  // Generate unique IDs
  const menuId = "bookmarklet-menu";
  const styleId = "bookmarklet-styles";

  // Remove existing menu if already present
  let existingMenu = document.getElementById(menuId);
  if (existingMenu) {
    existingMenu.remove();
    document.getElementById(styleId).remove();
    return;
  }

  // Create menu container
  let menu = document.createElement("div");
  menu.id = menuId;
  menu.className = "bookmarklet-menu";

  // Create close button
  let closeButton = document.createElement("button");
  closeButton.textContent = "X";
  closeButton.className = "close-button";
  closeButton.onclick = () => {
    menu.remove();
    style.remove();
  };
  menu.appendChild(closeButton);

  // Add options to the menu
  options.forEach(option => {
    let link = document.createElement("a");
    link.textContent = option.title;
    link.href = option.url;
    menu.appendChild(link);
  });

  document.body.appendChild(menu);

  // Add styles
  let style = document.createElement("style");
  style.id = styleId;
  style.textContent = `
    .bookmarklet-menu {
      position: fixed;
      top: 10px;
      right: 10px;
      width: 200px;
      background: #fff;
      border: 1px solid #b0b0b0;
      border-radius: 3px;
      box-shadow: 2px 2px 3px #777;
      z-index: 10123456;
      padding: 3px;
    }
    .bookmarklet-menu a {
      display: block;
      margin: 0;
      padding: 8px;
      background: #fff;
      color: black;
      text-decoration: none;
      font: 12px Verdana, sans-serif;
    }
    .bookmarklet-menu a:hover {
      background: #a0a0a0;
      color: white;
    }
    .bookmarklet-menu .close-button {
      background: red;
      color: white;
      border: none;
      cursor: pointer;
      padding: 5px;
      border-radius: 3px;
      float: right;
    }
  `;
  document.head.appendChild(style);

})();
